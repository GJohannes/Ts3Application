<html>
<script src="javascript/jquery-3.3.1.js"></script>
<script src="javascript/loader.js"></script>
<script type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="css/overallCSS.css">
<head>
<title>People on TS3 Server</title>
<style>
.chart {
	width: 100%;
	min-height: 450px;
	}

body {
	background-color: #000022;
}

.pageDiv {
	margin: auto;
	width: 100%;
	/*border: 3px solid #000000;*/
	padding: 10px;
	display: block;
}

.headDiv {
	margin: auto;
	width: 100%;
	text-align: center;
	color: white;
}
</style>
</head>
<body>
	<div class="divBackgroundGrid">
		<div class="pageDiv divFont">
			<div class="headDiv">
				<h1>Teamspeak3 Server</h1>
				<div>
					People Currently Online:
					<div id="peopleOnServerDisplay">
						<h2>NO PEOPLE ON SERVER</h2>
					</div>
				</div>
			</div>
			<div id="messagesDiv" class="row">
				<div class="column80" style="background-color: #dddd;">
					<div class="row">
						<div>
							<p>
							<div>
								<input class="inputDate" type="date" id="datepicker">
							</div>
							Date: (Data is only existing in ServerLogger was active at the given day)
							</p>
						</div>
						<div>
							<div id="curve_chart" align="center">
								<img alt="Teamspeak Icon" src="images/loading3.gif">
							</div>
						</div>
					</div>
					<div style="width: 100%;">
						<button onclick="sendServerMessage()" style="width: 100%;">Send Message to the TS3Server</button>
					</div>
					<div>
						Message to Server:
						<textarea id="messageToServerString" style="width: 100%; resize: none;" rows="4">Insert Server Message</textarea>
					</div>
					<div>
						Password: <input type="password" id="passwordForMessageToServerString" value="enter password" style="width: 100%;">
					</div>
				</div>
				<div class="column20" >
					<div id="containerWithPersonaleMessageButtons"></div>
				</div>
			</div>


			<div class="divCenter" align="center">
				<a href="Impressum"> Impressum </a>
			</div>
			<br><br><br><br><br><br><br><br><br>
		</div>
	</div>
</body>
<script src="javascript/peopleOnTs3ServerGraph.js"></script>
<script src="javascript/peopleOnTs3ServerServerMessage.js"></script>
<script src="javascript/peopleOnTs3ServerUsersOnlinePrivateMessage.js"></script>
<script type="text/javascript">
	var booleanCheck = false;

	google.charts.load('current', {
		'packages' : [ 'corechart' ]
	});
	google.charts.setOnLoadCallback(drawChart);

	$(document).ready(function() {
		document.getElementById('datepicker').value = currentDate();
		console.log("Document is now ready");
		getUsersOnlineFromServer();
		refreshUsersOnline();
		refreshLineChart();
		$('#datepicker').val(currentDate());
	})

	function currentDate() {
		var now = new Date();
		var day = ("0" + now.getDate()).slice(-2);
		var month = ("0" + (now.getMonth() + 1)).slice(-2);
		var today = now.getFullYear() + "-" + (month) + "-" + (day);
		return today;
	}
</script>
</html>